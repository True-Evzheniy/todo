<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ToDo</title>
  <style>
    input:checked+input{
      text-decoration: line-through;
    }
    input:checked+input:focus{
      text-decoration: none;
    }
  </style>
</head>
<body>
  <div class="task__field">

  </div>
  <div class="task">
    <input type="checkbox" class="task__check">
    <input type="text" class="task__input">
    <button class="task__add">V</button>
    <button class="task__clear">X</button>
  </div>
  <div class="task__filter">
    <input type="radio" name="filter" id="all"><label for="all">Все</label>
    <input type="radio" name="filter" id="compleate"><label for="compleate">Выполненные</label>
    <input type="radio" name="filter" id="active"><label for="active">Активные</label>
  </div>
  <template style="dispaly: none">
    <div class="task">
      <input type="checkbox" class="task__check">
      <input type="text" class="task__input">
      <button class="task__add">V</button>
      <button class="task__clear">X</button>
    </div>
  </template>
  <script>
      'use strict';
      var template = document.querySelector('template');
      var elementToClone;
      var field = document.querySelector('.task__field');

      // Если нет поддержки браузером берем из DOMa
      if ('content' in template) {
          elementToClone = template.content.firstElementChild;
      } else {
          elementToClone = template.firstElementChild;
      }

      var exampleData = [{id: 1, text: 'купить хлеб', checked: true},
          {id: 2, text: 'покрасить небо', checked: false},
          {id: 3, text: 'съесть французских булок', checked: true}];

      // Функция отрисовки одной задачи
      function renderTask(obj) {
          var task = elementToClone.cloneNode(true);
          task.id = obj.id;
          var checkbox = task.querySelector('.task__check');
          var text = task.querySelector('.task__input');
          if (obj.checked) {
              checkbox.checked = true;
          }
          if (obj.text) {
              text.value = obj.text;
          }
          field.appendChild(task);
      }

      // Функция фильтрации сделанных тасков
      function sortingCheckedTask(arr) {
          return arr.filter(function (item) {
              return item.checked;
          })
      }

      // Функция фильтрации несделанных тасков
      function sortingNoCheckedTask(arr) {
          return arr.filter(function (item) {
              return !item.checked;
          })
      }

      // Рисуем массив тасков
      function renderTasks(arr) {
          arr.forEach(function (item) {
              renderTask(item);
          });
      }

      // Получаем фильтр
      function getFilter() {
          var btns = document.querySelectorAll('input[type=radio]');
          var id;
          [].forEach.call(btns, function (item) {
              if (item.checked) id = item.id;
          });
          return id;
      }

      function filter(nameFilter) {
          switch (nameFilter) {
              case 'all':


          }
      }
      renderTasks(exampleData);

  </script>
</body>
</html>
